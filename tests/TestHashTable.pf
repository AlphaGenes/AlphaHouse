module TestHashTable
  use pFUnit_mod
  use HashModule
  use ISO_Fortran_env

  implicit none

  type(DictStructure) :: dictionary  
  contains

 @before
    subroutine initialise
        
         implicit none
        integer(kind=int64) :: size

        size = 32
        dictionary = DictStructure(size)

        
    end subroutine

   @after
    subroutine Uninit
      call dictionary%destroy
    end subroutine

    @test
    subroutine testAdd
        implicit none
        call dictionary%addKey("hi", 5)
        @assertEqual(dictionary%getValue("hi"), 5)
    end subroutine testAdd

    @test
    subroutine testHasKey
        implicit none
        call dictionary%addKey("hi", 5)
        @assertTrue(dictionary%hasKey("hi"))

    end subroutine testHasKey


    @test
    subroutine testDelete
        implicit none
        call dictionary%addKey("hi", 5)
        call dictionary%deleteKey("hi")
        @assertFalse(dictionary%hasKey("hi"))

    end subroutine testDelete


end module TestHashTable
